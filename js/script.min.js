/**
 *@author : Danilo Teixeira
 *@balls copyright 2013
 *@GitHub : https://github.com/danilo-teixeira
 */
!function(b,x){function s(a,b){this.x=a;this.y=b;this.vx=6*Math.random()-3;this.vy=6*Math.random()-3;this.radius=20+20*Math.random();this.cor=t[Math.random()*t.length<<0]}function u(){j.clearRect(0,0,l,m);d.forEach(function(a,b){j.beginPath();j.strokeStyle="#000";j.fillStyle=a.cor;j.arc(a.x,a.y,a.radius,0,2*Math.PI,!1);j.stroke();j.fill();for(var e=b+1,f=d.length;e<f;e++){var g=d[e].x-a.x,c=d[e].y-a.y,k=Math.sqrt(g*g+c*c),h=a.radius+d[e].radius;k<h&&(c=Math.atan2(c,g),g=a.x+Math.cos(c)*h,h=a.y+Math.sin(c)*h,g=0.5*(g-d[e].x)*v,h=0.5*(h-d[e].y)*v,a.vx-=g,a.vy-=h,d[e].vx+=g,d[e].vy+=h)}a.vy+=y;a.x+=a.vx;a.y+=a.vy;a.x+a.radius>l?(a.x=l-a.radius,a.vx*=n):0>a.x-a.radius&&(a.x=a.radius,a.vx*=n);a.y+a.radius>m?(a.y=m-a.radius,a.vy*=n):0>a.y-a.radius&&(a.y=a.radius,a.vy*=n)});p();requestAnimationFrame(u)}function p(){r&&d.push(new s(q.x,q.y))}for(var f=x.getElementById("layer"),j=f.getContext("2d"),l=b.innerWidth,m=b.innerHeight,t="#10222B #95AB63 #BDD684 #E2F0D6 #F6FFE0 #000000".split(" "),d=[],r=!1,v=0.3,n=-0.5,y=0.2,q={x:0,y:0},w=0,c=["ms","moz","webkit","o"],k=0;k<c.length&&!b.requestAnimationFrame;++k)b.requestAnimationFrame=b[c[k]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[c[k]+"CancelAnimationFrame"]||b[c[k]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(a){var c=Date.now(),e=Math.max(0,16-(c-w)),d=b.setTimeout(function(){a(c+e)},e);w=c+e;return d});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)});f.width=l;f.height=m;f.addEventListener("click",p,!1);f.addEventListener("mousedown",function(){r=!0;p()},!1);f.addEventListener("mousemove",function(a){q.x=a.pageX;q.y=a.pageY;p()},!1);f.addEventListener("mouseup",function(){r=!1},!1);b.addEventListener("resize",function(){l=b.innerWidth;m=b.innerHeight;f.width=l;f.height=m},!1);for(c=0;10>c;c++)d.push(new s(0,0));u()}(window,document);