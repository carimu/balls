/**
 *@author : Danilo Teixeira
 *@balls copyright 2013
 *@GitHub : https://github.com/danilo-teixeira
 */
!function(b,x){function s(a,b){this.x=a;this.y=b;this.vx=6*Math.random()-3;this.vy=6*Math.random()-3;this.radius=20+20*Math.random();this.cor=t[Math.random()*t.length<<0]}function u(){k.clearRect(0,0,l,m);c.forEach(function(a,b){k.beginPath();k.strokeStyle="#000";k.fillStyle=a.cor;k.arc(a.x,a.y,a.radius,0,2*Math.PI,!1);k.stroke();k.fill();for(var d=b+1,g=c.length;d<g;d++){var j=c[d].x-a.x,f=c[d].y-a.y,e=Math.sqrt(j*j+f*f),h=a.radius+c[d].radius;e<h&&(f=Math.atan2(f,j),j=a.x+Math.cos(f)*h,f=a.y+Math.sin(f)*h,j=0.5*(j-c[d].x)*v,f=0.5*(f-c[d].y)*v,e=(h-e)/(e+1),a.x+=0.5*(a.x-c[d].x)*e,a.y+=0.5*(a.y-c[d].y)*e,a.vx-=j,a.vy-=f,c[d].vx+=j,c[d].vy+=f)}a.vy+=y;a.x+=a.vx;a.y+=a.vy;a.x+a.radius>l?(a.x=l-a.radius,a.vx*=n):0>a.x-a.radius&&(a.x=a.radius,a.vx*=n);a.y+a.radius>m?(a.y=m-a.radius,a.vy*=n):0>a.y-a.radius&&(a.y=a.radius,a.vy*=n)});p();requestAnimationFrame(u)}function p(){r&&c.push(new s(q.x,q.y))}for(var g=x.getElementById("layer"),k=g.getContext("2d"),l=b.innerWidth,m=b.innerHeight,t="#10222B #95AB63 #BDD684 #E2F0D6 #F6FFE0 #000000".split(" "),c=[],r=!1,v=0.3,n=-0.5,y=0.2,q={x:0,y:0},w=0,e=["ms","moz","webkit","o"],h=0;h<e.length&&!b.requestAnimationFrame;++h)b.requestAnimationFrame=b[e[h]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[e[h]+"CancelAnimationFrame"]||b[e[h]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(a){var c=Date.now(),d=Math.max(0,16-(c-w)),e=b.setTimeout(function(){a(c+d)},d);w=c+d;return e});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)});g.width=l;g.height=m;g.addEventListener("click",p,!1);g.addEventListener("mousedown",function(){r=!0;p()},!1);g.addEventListener("mousemove",function(a){q.x=a.pageX;q.y=a.pageY;p()},!1);g.addEventListener("mouseup",function(){r=!1},!1);b.addEventListener("resize",function(){l=b.innerWidth;m=b.innerHeight;g.width=l;g.height=m},!1);for(e=0;10>e;e++)c.push(new s(l/2,m/2));u()}(window,document);