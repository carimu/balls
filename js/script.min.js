/**
 *@author : Danilo Teixeira
 *@balls copyright 2013
 *@GitHub : https://github.com/danilo-teixeira
 */
!function(d,y){function s(){l=d.innerWidth;m=d.innerHeight;h.width=l;h.height=m}function t(a,b){this.x=a;this.y=b;this.vx=6*Math.random()-3;this.vy=6*Math.random()-3;this.radius=20+20*Math.random();this.cor=u[Math.random()*u.length<<0]}function v(){k.clearRect(0,0,l,m);b.forEach(function(a,d){k.beginPath();k.strokeStyle="#000";k.fillStyle=a.cor;k.arc(a.x,a.y,a.radius,0,2*Math.PI,!1);k.stroke();k.fill();for(var c=d+1,h=b.length;c<h;c++){var j=b[c].x-a.x,f=b[c].y-a.y,e=Math.sqrt(j*j+f*f),g=a.radius+b[c].radius;e<g&&(f=Math.atan2(f,j),j=a.x+Math.cos(f)*g,f=a.y+Math.sin(f)*g,j=0.5*(j-b[c].x)*w,f=0.5*(f-b[c].y)*w,e=(g-e)/(e+1),a.x+=0.5*(a.x-b[c].x)*e,a.y+=0.5*(a.y-b[c].y)*e,a.vx-=j,a.vy-=f,b[c].vx+=j,b[c].vy+=f)}a.vy+=z;a.x+=a.vx;a.y+=a.vy;a.x+a.radius>l?(a.x=l-a.radius,a.vx*=n):0>a.x-a.radius&&(a.x=a.radius,a.vx*=n);a.y+a.radius>m?(a.y=m-a.radius,a.vy*=n):0>a.y-a.radius&&(a.y=a.radius,a.vy*=n)});p();requestAnimationFrame(v)}function p(){r&&b.push(new t(q.x,q.y))}for(var h=y.getElementById("layer"),k=h.getContext("2d"),l,m,u="#10222B #95AB63 #BDD684 #E2F0D6 #F6FFE0 #000000".split(" "),b=[],r=!1,w=0.3,n=-0.5,z=0.2,q={x:0,y:0},x=0,e=["ms","moz","webkit","o"],g=0;g<e.length&&!d.requestAnimationFrame;++g)d.requestAnimationFrame=d[e[g]+"RequestAnimationFrame"],d.cancelAnimationFrame=d[e[g]+"CancelAnimationFrame"]||d[e[g]+"CancelRequestAnimationFrame"];d.requestAnimationFrame||(d.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(0,16-(b-x)),e=d.setTimeout(function(){a(b+c)},c);x=b+c;return e});d.cancelAnimationFrame||(d.cancelAnimationFrame=function(a){clearTimeout(a)});h.addEventListener("click",p,!1);h.addEventListener("mousedown",function(){r=!0;p()},!1);h.addEventListener("mousemove",function(a){q.x=a.pageX;q.y=a.pageY;p()},!1);h.addEventListener("mouseup",function(){r=!1},!1);d.addEventListener("resize",s,!1);s();for(e=0;10>e;e++)b.push(new t(l/2,m/2));v()}(window,document);